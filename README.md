# GridBNB-USDT-backtest

本项目实现了基于网格交易策略的币安BNB/USDT历史数据回测系统，支持动态网格调整、风控参数配置，并可视化回测结果。适合量化交易策略研究与测试。

---
本项目的大部分代码由ai生成，没有一行行去人工比对本回测的执行逻辑和原始代码是否完全相同，使用者可以继续修改完善，谢谢！

## 目录结构

```
.
├── backtest.py                  # 主回测逻辑
├── backtest_visualization.py    # 回测结果可视化
├── config.py                    # 策略参数与风控配置
├── requirements.txt             # 依赖库列表
├── BNBUSDT_BINANCE_2025-01-01_00_00_00_2025-05-19_23_59_59.pkl  # 示例历史数据
└── ...
```

## 环境依赖

请确保已安装 Python 3.7 及以上版本。  
安装依赖库：

```bash
pip install -r requirements.txt
```

## 数据准备

项目自带了示例数据文件 `BNBUSDT_BINANCE_2025-01-01_00_00_00_2025-05-19_23_59_59.pkl`，无需额外准备。  
如需替换为其他数据，请确保数据为 Pandas DataFrame pickle 格式，且包含 `close_price` 列，索引为时间戳。
将 `.env.example` 文件复制为副本，并重命名成`.env`

## 运行回测

在命令行中运行主程序：

```bash
python backtest.py
```

运行后会输出如下统计信息：

- 总交易次数
- 获胜次数
- 胜率
- 最终余额
- 总收益

并弹出回测结果的可视化图表。

## 策略说明

- **网格参数**、**风控参数**等均可在 `config.py` 中自定义。
- 策略支持动态调整网格间距，依据历史波动率和短期趋势自动优化。
- 详细策略逻辑见 `backtest.py` 文件头部注释。

## 可视化

回测结束后会自动弹出净值曲线与交易点位图，便于分析策略表现。

## 常见问题

- 如需自定义数据或参数，请修改 `config.py` 或替换数据文件。
- 若遇到依赖问题，请检查 Python 版本及依赖库安装情况。

